d3.select('svg').selectAll('.box').data(random(), function(d){return d.city;}).call(function(s){s.style('border', '1px solid black').transition().duration(duration).attr('y', function(d, i){return 50+i*30;}).transition().duration(2*duration).attr('width', function(d){ return d.value*200; });}).call(function(s){s.enter().append('rect').attr('class', 'box').attr('height', 30).text(function(d){return d.city;}).attr('y', function(d, i){return 50+i*30;}).transition().duration(duration).delay().attr('width', function(d){return d.value*200;});}).call(function(s){s.exit().transition().duration(duration).attr('y', 2000).remove();})
